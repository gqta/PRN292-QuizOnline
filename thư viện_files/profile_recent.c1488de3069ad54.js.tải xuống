(window.QJP=window.QJP||[]).push([["profile_recent"],{"3RSX":function(e,t,r){"use strict";r("TWNs"),r("JfAA"),r("UxlC");var s=r("Qfp6");e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+s.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},"5oIj":function(e,t,r){"use strict";r.r(t);var s=r("OC6c"),a=r("Ef4P"),n=r("PHlw"),i=r("kgm1"),l=r("R6/S"),o=r("Vg22"),d=r("pn57"),c=r("peh1"),u=Object(c.createStructuredSelector)({feed:l.c,filterFeedQuery:l.a,isFeedFinished:l.d,isFetchingFeed:l.e,shouldShowAd:n.e,shouldShowContentSearchText:l.h,shouldShowEmptyState:l.j,shouldShowFilter:l.k,unpublishedSets:l.b,user:l.i}),p=Object(o.connect)(u,(e=>({actions:Object(d.bindActionCreators)({fetchFeed:()=>Object(i.a)({repeatSets:!0}),filterFeed:i.b},e)})),null,{context:a.a})(s.a),h=r("q1tI"),m=r.n(h);class f extends h.PureComponent{render(){return m.a.createElement("div",{className:"ProfileRecentPage"},m.a.createElement(p,null))}}var b=Object(c.createStructuredSelector)({});t.default=Object(o.connect)(b,null,null,{context:a.a,pure:!1})(f)},"6/M9":function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));r("B6y2");var s=r("og3H"),a=r("93Hy"),n=r.n(a),i=r("Qpop"),l=(e,t)=>(t.set||{})[e],o=(e,t)=>(t.user||{})[e],d=(e,t)=>(t.folder||{})[e],c=(e,t)=>{if(!t.folderSet)return[];var r=t.folderSet;return Object.values(r).filter((t=>""+t.folderId==""+e))};function u(e,t,r,a){var n=l(e.setId,t),d=((e,t)=>(t.class||{})[e])(e.classId,t),c=d.id,u=r.find((e=>e.classId===c)),p=function(e,t,r,a){return r.type===s.dc.TEACHER&&a&&a.level===s.j.ADMIN?"/"+e.id+"/teacher/"+t:void 0}(n,c,a,u);return Object(i.b)({localId:e.localId,set:n,classProgressLink:p,creator:o(n.creatorId,t),class:d,timestamp:e.timestamp})}function p(e,t){var r=((e,t)=>(t.session||{})[e])(e.id,t);if(!r)return null;var a=e.timestamp;if(r.itemType===s.Lb.SET){var u=l(r.itemId,t),p=o(u.creatorId,t);return Object(i.e)({localId:e.localId,set:u,timestamp:a,creator:p,sessions:void 0})}var h=d(r.itemId,t),m=h.personId?o(h.personId,t):void 0,f=c(h.id,t);if((h=n()(h,(e=>{e.folderSets=f}))).isHidden){var b=((e,t)=>c(e,t).map((e=>l(e.setId,t))).filter((e=>void 0!==e)))(h.id,t).map((e=>n()(e,(r=>{r.creator=o(e.creatorId,t)}))));return b.length?Object(i.c)({localId:e.localId,folder:h,timestamp:a,sessions:void 0,sets:b}):null}return Object(i.d)({localId:e.localId,folder:h,timestamp:a,creator:m,sessions:void 0})}function h(e,t,r){var a=t=>function(e,t){var r=l(e.id,t);return Object(i.g)({localId:e.localId,set:r,creator:o(r.creatorId,t),timestamp:e.timestamp})}(t,e),h=t=>function(e,t){var r,a,u=e.timestamp,p=e.modelType;switch(p){case s.D.PREP_PACK:a=(r=((e,t)=>(t.prepPack||{})[e])(e.modelId,t)).creatorId;break;case s.D.SET:a=(r=l(e.modelId,t)).creatorId;break;case s.D.FOLDER:if(a=(r=d(e.modelId,t)).personId,t.folderSet){var h=c(r.id,t);r=n()(r,(e=>{e.folderSets=h}))}break;default:return null}var m=o(a,t);return Object(i.f)({localId:e.localId,model:r,modelType:p,creator:m,timestamp:u})}(t,e);return s=>{switch(s.type){case"set":return a(s);case"session":return(t=>p(t,e))(s);case"classSet":return(s=>u(s,e,t,r))(s);case"userContentPurchase":return h(s);default:throw new Error("Unrecognized feed item type")}}}},6103:function(e,t,r){"use strict";r("4mDm"),r("3bBZ");var s=r("TSYQ"),a=r.n(s),n=r("ZKm7"),i=r("/PIh"),l=r("Uudg"),o=r("bvRJ"),d=r("a08m"),c=r("s52C"),u=r("og3H"),p=r("3YfB"),h=r("QLaP"),m=r.n(h),f=r("q1tI"),b=r.n(f),v=r("2McN"),E=r("/En6"),C=r("jgp3"),S=r("EFuM"),I=r("RPLW"),g=r.n(I);class k extends b.a.PureComponent{constructor(){super(...arguments),this.handleClickSet=e=>{C.a.logSearchHitClickSetInFolder(e.id)},this.handleClickCreatorLink=e=>e.stopPropagation(),this.handleKeydownCreatorLink=e=>{"Enter"===e.key&&this.handleClickCreatorLink(e)}}getExpirationTimestamp(e){return e.expirationTimestamp*p.g}renderCreatorLink(e,t){return void 0===t&&(t=16),m()(this.props.creator,"creator cannot be null here because null check already completed"),b.a.createElement("div",{className:"SetPreview-cardBylineCreator",onClick:this.handleClickCreatorLink,onKeyDown:this.handleKeydownCreatorLink},b.a.createElement(c.a,{badge:e.isVerified,highlightQuery:this.props.highlightQuery,size:t,tabIndex:this.props.tabIndex,user:e}))}renderClass(){return this.props.class?b.a.createElement("div",{className:"SetPreview-cardBylineClass"},b.a.createElement("span",{className:"SetPreview-cardBylineClassTitle"},this.props.class.title)):null}renderTitle(){var e=b.a.createElement("span",{className:"SetPreview-cardHeaderTitle"},this.isDraft()?b.a.createElement(l.a,{id:"sets_preview.draft_prefix"}):null,b.a.createElement(i.a,{className:"SetPreview-queryMatchHighlight",query:this.props.highlightQuery,text:this.props.set.title||""}));return this.props.titleIsClickable?b.a.createElement(d.a,{newTab:this.props.titleLinkNewTab,onClick:this.handleClickSet.bind(this,this.props.set),to:Object(v.a)(this.props.set._webUrl,{funnelUUID:this.props.funnelUUID,src:this.props.crawlLinkSource})},e):e}renderDiagram(){var e,t=this.props.set._thumbnailUrl;return t?b.a.createElement("div",{className:"SetPreview-diagramImage",style:{backgroundImage:"url("+(e=t,(Object(S.g)()?Object(E.c)(e):e)+")")}}):b.a.createElement("div",{className:"SetPreview-diagramImagePlaceholder"})}renderPurchaseStatus(e){var t=e.cancellationTimestamp,r=this.getExpirationTimestamp(e);return t?b.a.createElement("span",{className:"SetPreview-cardBylinePurchaseStatus"},b.a.createElement(l.a,{id:"profile.purchased.cancellation_date",timestamp:t*p.g})):this.isExpired(e)?b.a.createElement("span",{className:"SetPreview-cardBylinePurchaseStatus"},b.a.createElement(l.a,{id:"profile.purchased.expired_purchase",timestamp:r})):b.a.createElement("span",{className:"SetPreview-cardBylinePurchaseStatus"},b.a.createElement(l.a,{id:"profile.purchased.expiration_date",timestamp:r}))}renderLabelTag(e){return b.a.createElement("div",{className:"SetPreview-labelTagWrap"},b.a.createElement("div",{className:"UIBaseCard-labelTag"},e))}render(){var{creator:e,label:t,set:r,shouldHideCreatorLink:s,shouldHidePaidSetDetails:i,userContentPurchase:d}=this.props,c=a()("SetPreview",{"is-expired":d&&this.isExpired(d),"SetPreview--small":"small"===this.props.variant}),p=r.numTerms,h=r.mcqCount,m=r.price;return b.a.createElement("div",{className:c},this.props.premiumContentPreviewImage?this.props.premiumContentPreviewImage:null,!this.props.premiumContentPreviewImage&&r.hasDiagrams?this.renderDiagram():null,b.a.createElement("div",{className:"SetPreview-inner"},b.a.createElement("div",{className:"SetPreview-cardBylineWrapper"},i?null:b.a.createElement(n.a,null,p>0?b.a.createElement("span",{className:"SetPreview-cardBylineTermsCount"},b.a.createElement(l.a,{id:"sets_preview.num_of_terms",termCount:p})):null,h>0?b.a.createElement("span",{className:"SetPreview-cardBylineMcqCount"},b.a.createElement(l.a,{id:"sets_preview.num_of_mcqs",mcqCount:h})):null,e&&!s?this.renderCreatorLink(e):null,this.props.class?this.renderClass():null),d?this.renderPurchaseStatus(d):null,this.shouldRenderPriceTag()&&m?b.a.createElement("div",{className:"SetPreview-priceTag"},m):null),b.a.createElement("header",{"aria-label":r.title,className:"SetPreview-cardHeader"},this.renderTitle(),r.hasImages?b.a.createElement(o.a,{className:"SetPreview-cardHeaderIcon",icon:"image"}):null,r.hasDiagrams?b.a.createElement(o.a,{className:"SetPreview-cardHeaderIcon",icon:"diagram-capable"}):null,r.canUserAccess||r.accessType===u.qb.PUBLIC_ACCESS?null:b.a.createElement(o.a,{className:"SetPreview-cardHeaderIcon",icon:"lock"})),this.props.children),t?this.renderLabelTag(t):null)}isDraft(){return 0===this.props.set.publishedTimestamp}isExpired(e){return this.getExpirationTimestamp(e)<Date.now()}shouldRenderPriceTag(){var{canAccessStudyableFeature:e,shouldHidePaidSetDetails:t,userContentPurchase:r}=this.props;return!(e||t||r)}}k.defaultProps={shouldHideCreatorLink:!1,shouldHidePaidSetDetails:!1,tabIndex:0,titleIsClickable:!1,titleLinkNewTab:!1},t.a=g()(k)},"7cQK":function(e,t,r){"use strict";r.r(t)},Bpvx:function(e,t,r){"use strict";var s=r("Qfp6"),a=r("Pfkr"),n=r("3RSX"),i=r("n8Jw")||0;function l(){return a(i)}e.exports=l,e.exports.generate=l,e.exports.seed=function(t){return s.seed(t),e.exports},e.exports.worker=function(t){return i=t,e.exports},e.exports.characters=function(e){return void 0!==e&&s.characters(e),s.shuffled()},e.exports.isValid=n},BwKR:function(e,t,r){"use strict";var s=r("Ef4P"),a=r("YdN8"),n=r("kgm1"),i=r("R6/S"),l=r("Vg22"),o=r("pn57"),d=r("peh1"),c=Object(d.createStructuredSelector)({filterFeedQuery:i.a,shouldShowFilter:i.k});t.a=Object(l.connect)(c,(e=>({actions:Object(o.bindActionCreators)({filterFeed:n.b},e)})),null,{context:s.a})(a.a)},CR0S:function(e,t,r){"use strict";r("4mDm"),r("rOQg"),r("XMab"),r("s5qe");var s,a="object"==typeof window&&(window.crypto||window.msCrypto);s=a&&a.getRandomValues?function(e){return a.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=s},Cj8V:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return d}));var s=r("a4W4"),a=r("7wDT"),n=r("welx"),i=r("q1tI"),l=r.n(i),o=Object(n.styled)("div")({name:"FilterInputWrapper",class:"fpyosf9"});function d(t){return l.a.createElement(o,null,l.a.createElement(s.b,{alt:e("profile.controls.filter_by_title"),icon:"search",size:s.a.Small}),l.a.createElement(a.a,{"aria-label":e("profile.controls.filter_by_title"),label:e("profile.controls.filter_by_title"),onChange:e=>{t.onChange(e.currentTarget.value)},type:"text",value:t.value}))}r("7cQK")}).call(this,r("nrsj").default)},GqbH:function(e,t,r){"use strict";(function(e){var s=r("pVnL"),a=r.n(s),n=r("dZeO"),i=r("1vuM"),l=r("q1tI"),o=r.n(l),d=r("2McN"),c=r("b5qW"),u=r("RPLW"),p=r.n(u);class h extends l.PureComponent{getWebUrl(){var{folder:e,funnelUUID:t}=this.props;return Object(d.a)(e._webUrl,{funnelUUID:t})}renderWithUILinkBox(){var{creator:t,folder:r,funnelUUID:s,onClick:l}=this.props;return o.a.createElement("div",{className:"FolderPreviewLink"},o.a.createElement(i.a,{ariaLabel:r.name,doesMatchRouterPath:!0,onClick:l,to:r?Object(d.a)(r._webUrl,{funnelUUID:s}):null},o.a.createElement(n.a,a()({},this.props,{label:null!=t&&t.isVerified?e("content_preview_card.study_guide_flag"):null}))))}renderWithoutUILinkBox(){var{creator:t,onClick:r}=this.props,s=Object(c.a)(this.getWebUrl(),{onNavigation:r});return o.a.createElement("div",a()({},s,{className:"FolderPreviewLink FolderPreviewLink--noLinkBox"}),o.a.createElement(n.a,a()({},this.props,{label:null!=t&&t.isVerified?e("content_preview_card.study_guide_flag"):null})))}render(){return this.props.titleIsClickable?this.renderWithoutUILinkBox():this.renderWithUILinkBox()}}t.a=p()(h)}).call(this,r("nrsj").default)},"Im/o":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("4mDm"),r("3bBZ");var s=r("TSYQ"),a=r.n(s),n=r("bvRJ"),i=r("jvKz"),l=r("FJLI"),o=r("q1tI"),d=r.n(o);class c extends d.a.PureComponent{constructor(){super(...arguments),this.handleContextMenuClick=e=>{var t,r;e.stopPropagation(),null==(t=(r=this.props).handleContextMenuClick)||t.call(r)},this.handleKeydownContextMenu=e=>{"Enter"===e.key&&this.handleContextMenuClick(e)}}renderContextMenu(){var e=d.a.createElement(l.a,null,d.a.createElement("div",{className:"PreviewCard-contextMenuItems"},this.props.contextMenu));return d.a.createElement("span",{className:"PreviewCard-contextMenuIcon","data-testid":"PreviewCard-context-menu",onClick:this.handleContextMenuClick,onKeyDown:this.handleKeydownContextMenu},d.a.createElement(i.a,{overlay:e,position:"bottom right",triggerAction:"click"},d.a.createElement(n.a,{icon:"more",size:"large"})))}render(){var e=a()("PreviewCard",{"PreviewCard--noLinkBox":this.props.noLinkBox});return d.a.createElement("div",{className:e},d.a.createElement("div",{className:"PreviewCard-content"},this.props.children),this.props.button||this.props.contextMenu?d.a.createElement("div",{className:"PreviewCard-actions"},this.props.button?this.props.button:null,this.props.contextMenu?this.renderContextMenu():null):null)}}},MlNO:function(e,t,r){"use strict";r("4mDm"),r("9N29"),r("pDQq"),r("JTJg"),r("3bBZ");var s=r("JYcJ"),a=r("WDAW"),n=r("TSYQ"),i=r.n(n),l=r("x+ut"),o=r("owmo"),d=r("q1tI"),c=r.n(d);class u extends c.a.Component{constructor(){super(...arguments),this.state={isEmpty:!1},this.handleEmptyAd=()=>{this.setState({isEmpty:!0})}}render(){var{adId:e,innerClass:t,outerClass:r}=this.props,{isEmpty:s}=this.state;return s?null:c.a.createElement(o.a,null,c.a.createElement("div",{className:r},c.a.createElement("div",{className:t},c.a.createElement(l.a,{headingAlignment:"centerAlign",id:e,onEmptyAdCallback:this.handleEmptyAd}))))}}var p=r("avtF"),h=r("pVnL"),m=r.n(h),f=r("dZeO"),b=r("Im/o"),v=r("skun"),E=r("xTTd"),C=r("t1Ez"),S=r("1vuM"),I=r("T3U7");class g extends d.Component{constructor(){super(...arguments),this.handleContextMenuClick=()=>{var{classId:e,folder:t}=this.props;Object(I.a)("opened_class_folder_feed_item_menu",{classId:e,folderId:t.id})},this.renderContextMenu=()=>{var{classId:e,folder:t,removeClassFolder:r}=this.props,s=t.id;return c.a.createElement(v.a,null,c.a.createElement(E.a,{icon:"garbage",label:c.a.createElement(C.a,{id:"class_folders.remove_class_folder"}),onClick:()=>{Object(I.a)("removed_folder_from_class",{classId:e,folderId:s,context:"dashboard_feed_item"}),null==r||r({folderId:s,classId:e})},variant:"alert"}))}}render(){var{shouldRenderContextMenu:e,folder:t,funnelUUID:r,onClick:s,titleIsClickable:a}=this.props;return c.a.createElement("div",{className:"ClassFolderListItem"},c.a.createElement(S.a,{ariaLabel:this.props.folder.name,to:t._webUrl},c.a.createElement(b.a,{contextMenu:e?this.renderContextMenu():null,handleContextMenuClick:this.handleContextMenuClick},c.a.createElement(f.a,{folder:t,funnelUUID:r,onClick:s,titleIsClickable:a}))))}}var k=r("6103");class y extends d.PureComponent{render(){var{creator:e,funnelUUID:t,highlightQuery:r,set:s,titleIsClickable:a}=this.props;return c.a.createElement("div",{className:"ClassSetPreview"},c.a.createElement(k.a,{class:this.props.class,crawlLinkSource:this.props.crawlLinkSource,creator:e,funnelUUID:t,highlightQuery:r,set:s,titleIsClickable:a}))}}y.defaultProps={titleIsClickable:!1};var F=r("2McN"),P=r("b5qW");class w extends d.PureComponent{getWebUrl(){var{funnelUUID:e,set:t}=this.props;return Object(F.a)(t._webUrl,{funnelUUID:e})}renderWithoutUILinkBox(){var e=Object(P.a)(this.getWebUrl());return c.a.createElement("div",m()({},e,{className:"ClassSetPreviewLink"}),c.a.createElement(b.a,m()({},this.props,{noLinkBox:this.props.titleIsClickable}),c.a.createElement(y,this.props)))}render(){return this.props.titleIsClickable?this.renderWithoutUILinkBox():c.a.createElement("div",{className:"ClassSetPreviewLink"},c.a.createElement(S.a,{ariaLabel:this.props.set.title,to:this.getWebUrl()},c.a.createElement(b.a,this.props,c.a.createElement(y,this.props))))}}var _=r("GqbH"),D=r("a08m");class x extends c.a.PureComponent{render(){return c.a.createElement("div",{className:"PreviewSecondaryActionLink"},c.a.createElement(D.a,{to:this.props.linkTo},this.props.children))}}var L=r("TlBk"),T=r("X0lI"),O=r.n(T);class U extends d.PureComponent{getCombineUrl(e){return"/combine/"+e.map((e=>e.id)).join(",")}renderSets(){var{sets:e,titleIsClickable:t}=this.props,r=this.getCombineUrl(O()(e));return c.a.createElement("div",{className:"CombinedSetsPreviewLink-sets"},O()(e).map(((e,r)=>c.a.createElement(L.a,{creator:e.creator,key:r,set:e,titleIsClickable:t}))),c.a.createElement(x,{linkTo:r},c.a.createElement(C.a,{id:"global.combined_sets_preview.view_combo_link"})))}renderFolder(){return c.a.createElement(_.a,{folder:O()(this.props.folder),titleIsClickable:this.props.titleIsClickable})}render(){var{sets:e}=this.props;return c.a.createElement("div",{className:"CombinedSetsPreviewLink"},null!=e&&e.length?this.renderSets():this.renderFolder())}}r("+2oP"),r("JfAA");var N=r("me3d"),A=r("jvKz"),j=r("FJLI"),M=r("iHtK"),R=r("9/Ey"),B=r("RPLW"),H=r.n(B);class q extends d.PureComponent{getSessionsForMode(e){return this.props.sessions.filter((t=>Object(R.o)(t.type)===e))}getFinishedSessionsForType(e){return this.getSessionsForMode(e).filter((e=>e.endedTimestamp>0))}getMostRecentSession(e){return this.getSessionsForMode(e)[0]}getFormattedStatus(e,t){var r=parseInt(t.timestamp.toString(),10),s=Object(M.a)(1e3*r,{day:"numeric",month:"short",year:"numeric"}),a=Object(R.n)(e);return t.endedTimestamp>0?Object(R.t)(e)?c.a.createElement(C.a,{absoluteDate:s,id:"profile_studied_tab.mode_activity.popover.finished_game",mode:a}):c.a.createElement(C.a,{absoluteDate:s,id:"profile_studied_tab.mode_activity.popover.finished_studying",mode:a}):c.a.createElement(C.a,{absoluteDate:s,id:"profile_studied_tab.mode_activity.popover.started",mode:a})}renderPopover(e,t){var r,s=Object(R.n)(e),a=t&&t.endedTimestamp>0,n=i()("StudiedActivityStrip-popover",{"is-finished":a});return r=t?c.a.createElement("div",{className:n},c.a.createElement("p",{className:"StudiedActivityStrip-status"},this.getFormattedStatus(e,t))):c.a.createElement("div",{className:n},c.a.createElement("p",{className:"StudiedActivityStrip-status"},c.a.createElement(C.a,{id:"profile_studied_tab.mode_activity.popover.no_activity",mode:s}))),c.a.createElement(j.a,{includeArrowInBounds:!0},r)}renderStudyModeData(){return R.l.map(((e,t)=>{var r=t>(R.l.length-1)/2?"bottom right":"bottom left",s=this.getMostRecentSession(e),a=this.getFinishedSessionsForType(e).length,n=a?N.a:N.b;return c.a.createElement("div",{className:"StudiedActivityStrip-mode",key:t},c.a.createElement("span",{className:"StudiedActivityStrip-icon"},c.a.createElement(A.a,{overlay:this.renderPopover(e,s),position:r,triggerAction:"hover"},c.a.createElement(N.c,{disabled:!s,mode:Object(R.p)(e),progress:s?n:void 0,studiedCount:a,variant:"small"}))))}))}render(){return c.a.createElement("div",{className:"StudiedActivityStrip"},this.renderStudyModeData())}}var W=H()(q);class Q extends c.a.PureComponent{renderStudyProgress(){return c.a.createElement("div",{className:"StudyableLinkBox-studiedActivity"},c.a.createElement(W,{sessions:this.props.sessions}))}renderWithoutUILinkBox(){var{onClick:e,to:t}=this.props,r=Object(P.a)(t,{onNavigation:e});return c.a.createElement("div",m()({"aria-label":this.props.ariaLabel+" linkbox",className:"StudyableLinkBox StudyableLinkBox--noLinkBox"},r),c.a.Children.map(this.props.children,(e=>c.a.createElement("div",{className:"StudyableLinkBox-child"},e))),this.props.sessions?this.renderStudyProgress():null)}renderWithUILinkBox(){return c.a.createElement("div",{className:"StudyableLinkBox"},c.a.createElement(S.a,{ariaLabel:this.props.ariaLabel,onClick:this.props.onClick,to:this.props.to},c.a.Children.map(this.props.children,(e=>c.a.createElement("div",{className:"StudyableLinkBox-child"},e))),this.props.sessions?this.renderStudyProgress():null))}render(){return this.props.titleIsClickable?this.renderWithoutUILinkBox():this.renderWithUILinkBox()}}var K=H()(Q);class z extends d.PureComponent{render(){return c.a.createElement("div",{className:"StudySessionContextMenu"},c.a.createElement(v.a,null,c.a.createElement(E.a,{icon:"garbage",label:c.a.createElement(C.a,{id:"profile.studied.remove_session"}),onClick:this.props.onClickHide,variant:"alert"})))}}var V=r("og3H");class Z extends d.PureComponent{constructor(){super(...arguments),this.handleOnClickHide=()=>{if(this.props.folder){var{folder:{id:e},actions:{clickHideSession:t}}=this.props,r=V.Lb.FOLDER;t&&t({itemId:e,itemType:r})}}}getCombineUrl(e){return"/combine/"+e.map((e=>e.id)).join(",")}renderContextMenu(){return c.a.createElement(z,{onClickHide:this.handleOnClickHide})}renderSets(){var e,{titleIsClickable:t}=this.props,r=O()(this.props.sets),s=this.getCombineUrl(r),a=O()(r[0]);return c.a.createElement("div",{className:"CombinedSetsStudySession-sets"},c.a.createElement(K,{ariaLabel:(null==(e=this.props.folder)?void 0:e.name)||"",sessions:this.props.sessions,titleIsClickable:t,to:s},c.a.createElement(b.a,{contextMenu:this.props.actions?this.renderContextMenu():null},c.a.createElement(k.a,{creator:a.creator,key:a.id,set:a,titleIsClickable:t})),O()(r.slice(1)).map((e=>c.a.createElement(k.a,{creator:e.creator,key:e.id,set:e,titleIsClickable:t})))))}render(){var{sets:e}=this.props;return c.a.createElement("div",{className:"CombinedSetsStudySession"},null!=e&&e.length?this.renderSets():null)}}var J=H()(Z);class Y extends d.PureComponent{constructor(){super(...arguments),this.handleOnClickHide=()=>{var e=this.props.folder.id,t=V.Lb.FOLDER;this.props.actions.clickHideSession({itemId:e,itemType:t})}}renderContextMenu(){return c.a.createElement(z,{onClickHide:this.handleOnClickHide})}render(){return c.a.createElement("div",{className:"FolderStudySession"},c.a.createElement(K,{ariaLabel:this.props.folder.name,onClick:this.props.onClick,sessions:this.props.sessions,titleIsClickable:this.props.titleIsClickable,to:O()(Object(F.a)(this.props.folder._webUrl,{funnelUUID:this.props.funnelUUID}))},c.a.createElement(b.a,{contextMenu:this.props.actions?this.renderContextMenu():null},c.a.createElement(f.a,this.props))))}}var G=r("ScLN");class X extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnClickHide=()=>{var{set:{id:e},actions:{clickHideSession:t}}=this.props,r=V.Lb.SET;t&&t({itemId:e,itemType:r})}}renderContextMenu(){return c.a.createElement(z,{onClickHide:this.handleOnClickHide})}render(){return c.a.createElement("div",{className:"SetStudySession"},c.a.createElement(K,{ariaLabel:this.props.set.title,onClick:this.props.onClick,sessions:this.props.sessions,titleIsClickable:this.props.titleIsClickable,to:O()(Object(F.a)(this.props.set._webUrl,{funnelUUID:this.props.funnelUUID,src:this.props.crawlLinkSource}))},c.a.createElement(b.a,{contextMenu:this.props.actions?this.renderContextMenu():null},c.a.createElement(k.a,{crawlLinkSource:this.props.crawlLinkSource,creator:this.props.creator,highlightQuery:this.props.highlightQuery,set:this.props.set,shouldHideCreatorLink:this.props.shouldHideCreatorLink,titleIsClickable:this.props.titleIsClickable}))))}}var $=r("nXOR"),ee=r("Pxp3"),te=r("xqF0"),re=r("vzun"),se=r("zK28"),ae=r("QLaP"),ne=r.n(ae),ie=r("bR6t"),le=r("TtcH");class oe extends d.Component{constructor(){super(...arguments),this.handleSetItemContextMenuClick=()=>{var e,t,{item:r}=this.props;Object(I.a)("opened_class_set_feed_item_menu",{classId:null==(e=r.class)?void 0:e.id,setId:null==(t=r.set)?void 0:t.id})}}shouldComponentUpdate(e){var t,r,s,a,n,i,l,o,d,{item:c}=e;return!(c.localId===this.props.item.localId&&(null==(t=c.folder)?void 0:t.folderSets)===(null==(r=this.props.item.folder)?void 0:r.folderSets)&&(null==(s=c.folder)||!s.isHidden||c.sets===this.props.item.sets)&&(null==(a=c.diagramImage)?void 0:a.id)===(null==(n=this.props.item.diagramImage)?void 0:n.id)&&(null==(i=c.set)||null==(l=i.diagramImage)?void 0:l.id)===(null==(o=this.props.item.set)||null==(d=o.diagramImage)?void 0:d.id))}renderFeedItem(){var{item:e}=this.props;switch(e.feedItemType){case ie.b.USER_CREATED_SET:case ie.b.PURCHASED_SET:case ie.b.STUDIED_SET:return this.renderSet(e);case ie.b.CLASS_CREATED_SET:return c.a.createElement($.a,{below:"s"},(t=>this.renderClassCreatedSet(e,t)));case ie.b.CLASS_CREATED_FOLDER:return this.renderClassCreatedFolder(e);case ie.b.STUDIED_COMBINED_SETS:return this.renderStudiedCombinedSet(e);case ie.b.STUDIED_FOLDER:case ie.b.PURCHASED_STUDY_GUIDE:return this.renderStudiedFolder(e);case ie.b.PURCHASED_PREP_PACK:return this.renderPrepPack(e);default:return null}}renderPrepPack(e){var t=e;return c.a.createElement(G.a,{creator:t.creator,funnelUUID:this.props.funnelUUID,onClick:this.props.onClick,prepPack:O()(t.prepPack)})}renderSet(e){var t,r=O()(e.set),s={actions:{clickHideSession:null==(t=this.props.actions)?void 0:t.clickHideSession},crawlLinkSource:this.props.crawlLinkSource,creator:e.creator,funnelUUID:this.props.funnelUUID,highlightQuery:this.props.filterFeedQuery,onClick:this.props.onClick,set:r,shouldHideCreatorLink:!!this.props.ownerId&&this.props.ownerId===r.creatorId,titleIsClickable:!0};return c.a.createElement(ee.a,{"aria-label":r.title,className:"DashboardFeed-setItem",role:"contentinfo"},e.sessions?c.a.createElement(X,m()({},s,{sessions:e.sessions})):c.a.createElement(L.a,m()({},s,{set:r})))}renderClassCreatedFolder(e){var t,r=e.class;return c.a.createElement(ee.a,{className:"DashboardFeed-folderItem"},c.a.createElement(g,{classId:null==r?void 0:r.id,folder:O()(e.folder),funnelUUID:this.props.funnelUUID,onClick:this.props.onClick,removeClassFolder:null==(t=this.props.actions)?void 0:t.removeClassFolder,shouldRenderContextMenu:this.props.isClassAdmin,titleIsClickable:!0}))}renderClassCreatedSet(e,t){var r,s,a,n;if(e.canViewerDeleteClassSet&&this.props.actions&&this.props.actions.removeClassSet){var i,l,o=null==(i=e.set)?void 0:i.id,d=null==(l=e.class)?void 0:l.id;n=c.a.createElement(E.a,{icon:"garbage",label:c.a.createElement(C.a,{id:"class_sets.remove_class_set"}),onClick:()=>{ne()(this.props.actions,"Missing this.props.actions"),this.props.actions.removeClassSet({setId:o,classId:d}),Object(I.a)("removed_set_from_class",{classId:d,setId:o})},variant:"alert"})}return!e.classProgressLink&&se.a.user&&se.a.user.selfIdentifiedTeacherStatus===V.pb.TEACHER&&se.a.user.type!==V.dc.TEACHER&&this.props.isClassAdmin&&(r=c.a.createElement(A.a,{openDelay:200,overlay:c.a.createElement(re.a,null,c.a.createElement(C.a,{id:"global.class_set_preview.view_class_progress_link"})),position:"top",triggerAction:"hover"},c.a.createElement(te.a,{icon:"new-class",linkTo:Object(le.n)("classprogress_seticon"),linkToNewTab:!0,variant:"borderless"}))),e.classProgressLink&&t?s=c.a.createElement(E.a,{icon:"new-class",label:c.a.createElement(C.a,{id:"global.class_set_preview.view_class_progress_link"}),to:e.classProgressLink}):e.classProgressLink&&(r=c.a.createElement(A.a,{openDelay:200,overlay:c.a.createElement(re.a,null,c.a.createElement(C.a,{id:"global.class_set_preview.view_class_progress_link"})),position:"top",triggerAction:"hover"},c.a.createElement(te.a,{icon:"new-class",linkTo:e.classProgressLink,variant:"borderless"}))),(n||s)&&(a=c.a.createElement(v.a,null,s,n)),c.a.createElement(ee.a,{className:"DashboardFeed-setItem"},c.a.createElement(w,{button:r,class:e.class,contextMenu:a,crawlLinkSource:this.props.crawlLinkSource,creator:e.creator,funnelUUID:this.props.funnelUUID,handleContextMenuClick:this.handleSetItemContextMenuClick,highlightQuery:this.props.filterFeedQuery,set:O()(e.set),titleIsClickable:!0}))}renderStudiedFolder(e){var t={actions:this.props.actions,creator:e.creator,folder:O()(e.folder),funnelUUID:this.props.funnelUUID,onClick:this.props.onClick,titleIsClickable:!0};return c.a.createElement(ee.a,{className:"DashboardFeed-folderItem"},e.sessions?c.a.createElement(Y,m()({},t,{sessions:e.sessions})):c.a.createElement(_.a,t))}renderStudiedCombinedSet(e){var t,r={actions:{clickHideSession:null==(t=this.props.actions)?void 0:t.clickHideSession},creators:e.creators,folder:e.folder,sets:e.sets,titleIsClickable:!0};return c.a.createElement(ee.a,{className:"DashboardFeed-combinedSetsItem"},e.sessions?c.a.createElement(J,m()({},r,{sessions:e.sessions})):c.a.createElement(U,{folder:r.folder,sets:r.sets,titleIsClickable:!0}))}render(){return c.a.createElement(o.a,null,this.renderFeedItem())}}var de=r("QeEZ"),ce=r("47yS"),ue=r("C6mj"),pe=r("QR21"),he=r("eFEY"),me=".DashboardFeed-loadingIndicator";class fe extends c.a.PureComponent{constructor(){super(...arguments),this.state={shouldShowLIHomepageEmbeddedMWebAd:!1},this.getModelInfoForItem=e=>{var t,r;switch(e.feedItemType){case ie.b.USER_CREATED_SET:case ie.b.PURCHASED_SET:case ie.b.STUDIED_SET:case ie.b.CLASS_CREATED_SET:t=V.D.SET,r=e.set.id;break;case ie.b.STUDIED_FOLDER:case ie.b.PURCHASED_STUDY_GUIDE:t=V.D.FOLDER,r=e.folder.id;break;case ie.b.PURCHASED_PREP_PACK:t=V.D.PREP_PACK,r=e.prepPack.id}return{modelType:t,modelId:r}},this.handleFetchMoreFeed=()=>{var e;null!=(e=this.props.actions)&&e.fetchFeed&&!this.props.isFetchingFeed&&this.props.actions.fetchFeed()},this.maybeLogFunnelEvents=e=>e.map(((e,t)=>{var{modelId:r,modelType:s}=this.getModelInfoForItem(e),a=c.a.createElement(oe,{actions:this.props.feedItemActions,crawlLinkSource:this.props.crawlLinkSource,filterFeedQuery:this.props.filterFeedQuery,isClassAdmin:this.props.isClassAdmin,item:e,key:e.localId,ownerId:this.props.ownerId});return void 0!==r&&void 0!==s?c.a.createElement(de.a,{itemOrder:t,key:"study-funnel-"+e.localId,modelId:r,modelType:s,pageOrder:0,placement:this.props.studyFunnelEventPlacement,profileOwnerId:this.props.ownerId,subplacement:V.Db.ALL_SETS},a):a})),this.filterDuplicateSets=e=>e.filter((e=>{var t,r=null==(t=e.set)?void 0:t.id;return!r||!this.seenSetIds.includes(r)&&(this.seenSetIds.push(r),!0)}))}componentDidMount(){var{fetchFeed:e}=this.props.actions||{};e&&(e(),this.attachIntersectionObserver()),this.props.shouldShowAd&&!Object(ue.a)()&&Object(a.a)().then((e=>{this.setState({shouldShowLIHomepageEmbeddedMWebAd:e.isShowing(s.HOMEPAGE_MWEB_EMBEDDED)&&!Object(ue.a)()})}))}UNSAFE_componentWillReceiveProps(e){var{isFeedFinished:t,feedId:r}=e,{fetchFeed:s}=this.props.actions||{};!t&&this.props.isFeedFinished&&this.attachIntersectionObserver(),r!==this.props.feedId?(s&&s(),this.attachIntersectionObserver()):t&&!this.props.isFeedFinished&&this.removeIntersectionObserver()}componentWillUnmount(){this.props.actions&&this.props.actions.fetchFeed&&this.removeIntersectionObserver()}renderNoFilterResults(e){return c.a.createElement("div",{className:"DashboardFeed-empty"},c.a.createElement(C.a,{filter:e,id:"dashboard.feed.no_filtered_sets_found"}))}renderLoadingMoreIndicator(){var e=i()("DashboardFeed-loadingIndicator",{"is-visible":this.props.isFetchingFeed});return c.a.createElement(ee.a,{className:e},c.a.createElement(ce.a,{size:"large"}))}renderFeedChunked(){var e=0;return this.seenSetIds=[],this.props.feed.map((t=>{var r=this.props.shouldRepeatSets?t.items:this.filterDuplicateSets(t.items);if(0===(null==r?void 0:r.length))return null;var s=t.name;e+=r.length;var a=this.maybeLogFunnelEvents(r);return this.props.shouldShowAd&&this.state.shouldShowLIHomepageEmbeddedMWebAd&&!this.props.isClassPage&&(a=this.insertAdsIntoFeedChunked(a,e,[this.renderLIHomepageEmbeddedMWebAd()],this.props.mWebAdPosition)),this.props.shouldShowAd&&this.props.isClassPage&&(a=this.insertAdsIntoFeedChunked(a,e,[this.renderClassDashboardExperimentEmbeddedDesktopAd(0),this.renderClassDashboardExperimentEmbeddedMWebAd(0)],4),a=this.insertAdsIntoFeedChunked(a,e,[this.renderClassDashboardExperimentEmbeddedDesktopAd(1),this.renderClassDashboardExperimentEmbeddedMWebAd(1)],10)),c.a.createElement(p.a,{key:"dashboard-feed-group-"+t.name,title:O()(s)},a)}))}renderClassDashboardExperimentEmbeddedDesktopAd(e){if(!this.props.shouldShowAd)return null;var t=[s.CLASS_DASHBOARD_EMBEDDED_01,s.CLASS_DASHBOARD_EMBEDDED_02][e]||null;return null!==t?c.a.createElement($.a,{above:"m",key:"dashboard-feed-ad-"+t},c.a.createElement(u,{adId:t,innerClass:"DashboardFeed-desktopAdzContainer",outerClass:"DashboardFeed-desktopAdz"})):null}renderClassDashboardExperimentEmbeddedMWebAd(e){if(!this.props.shouldShowAd)return null;var t=[s.CLASS_DASHBOARD_EMBEDDED_MWEB_01,s.CLASS_DASHBOARD_EMBEDDED_MWEB_02][e]||null;return null!==t?c.a.createElement($.a,{above:"xs",below:"m",key:"dashboard-feed-ad-"+t},c.a.createElement(u,{adId:t,innerClass:"DashboardFeed-mobileAdzContainer",outerClass:"DashboardFeed-mobileAdz"})):null}renderFeedFlat(){var{feed:e,mWebAdPosition:t,shouldShowAd:r}=this.props,s=this.maybeLogFunnelEvents(e);return r&&this.state.shouldShowLIHomepageEmbeddedMWebAd&&!this.props.isClassPage&&(s=this.insertElementsIntoFeedFlat(s,[this.renderLIHomepageEmbeddedMWebAd()],t)),r&&this.props.isClassPage&&(s=this.insertElementsIntoFeedFlat(s,[this.renderClassDashboardExperimentEmbeddedDesktopAd(1),this.renderClassDashboardExperimentEmbeddedMWebAd(1)],10),s=this.insertElementsIntoFeedFlat(s,[this.renderClassDashboardExperimentEmbeddedDesktopAd(0),this.renderClassDashboardExperimentEmbeddedMWebAd(0)],4)),s}renderFeed(){return this.isShowingPremiumContent()&&this.logExposedToPremiumContentEvent(),this.props.isChunked?this.renderFeedChunked():this.renderFeedFlat()}renderLIHomepageEmbeddedMWebAd(){if(!this.props.shouldShowAd)return null;var e=s.HOMEPAGE_MWEB_EMBEDDED;return c.a.createElement($.a,{above:"m",below:"l",key:"dashboard-feed-ad-"+e},c.a.createElement(u,{adId:e,innerClass:"DashboardFeed-mobileAdzContainer",outerClass:"DashboardFeed-mobileAdz"}))}render(){var{filterFeedQuery:e}=this.props;return c.a.createElement(ee.a,{className:"DashboardFeed"},0===this.props.feed.length&&e&&""!==e?this.renderNoFilterResults(e):this.renderFeed(),this.renderLoadingMoreIndicator())}isShowingPremiumContent(){return!!this.props.feed.find((e=>{var t=e.items;return!!t&&t.find((e=>{var t=e.set;return!!t&&t.price}))}))}logExposedToPremiumContentEvent(){var e={action:"exposed_to_premium_content",page:window.location.href};Object(pe.a)("view_events",e,{includeUserDetails:!0})}insertAdsIntoFeedChunked(e,t,r,s){var a,n=t-e.length;return 1===s&&0===n?this.insertElements(e,r,0):s-1>n&&s-1<=t?(a=1===e.length?1:s-n-1,this.insertElements(e,r,a)):e}insertElementsIntoFeedFlat(e,t,r){return e.length>=r-1?this.insertElements(e,t,r-1):e}insertElements(e,t,r){return t.reduceRight(((e,t)=>(e.splice(r,0,t),e)),e)}attachIntersectionObserver(){this.intersectionObserver=Object(he.a)([me],this.handleFetchMoreFeed,void 0,!1)}removeIntersectionObserver(){if(this.intersectionObserver){var e=window.document.querySelector(me);e&&this.intersectionObserver.unobserve(e),this.intersectionObserver=null}}}fe.defaultProps={isClassPage:!1,mWebAdPosition:4,shouldRepeatSets:!0,shouldShowAd:!1};t.a=fe},OC6c:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return v}));r("4mDm"),r("3bBZ");var s=r("uogC"),a=r("llOj"),n=r("t1Ez"),i=r("Pxp3"),l=r("vlgG"),o=r("lfFz"),d=r("EYuy"),c=r("BwKR"),u=r("sEfC"),p=r.n(u),h=r("q1tI"),m=r.n(h),f=r("bR6t"),b=r("T3U7");class v extends h.PureComponent{constructor(){super(...arguments),this.handleFilterFeed=e=>{this.debouncedFilterFeed(e.target.value)},this.handleFocusFilterInput=()=>{Object(b.a)("dashboard_feed_controls_focused_filter_input",{feedType:o.c.LATEST_ACTIVITY})},this.debouncedFilterFeed=p()((e=>{this.props.actions.filterFeed({filterFeedQuery:e}),Object(b.a)("dashboard_feed_controls_filter_feed_query",{feedType:o.c.LATEST_ACTIVITY,query:e})}),f.c)}renderFilter(){var{shouldShowContentSearchText:t}=this.props;return m.a.createElement(i.a,{className:"ProfileRecentFeed-header"},m.a.createElement("div",{className:"ProfileRecentFeed-filterFeed"},m.a.createElement(l.a,{"aria-label":e("dashboard.feed.filter_a11y_label"),onChange:this.handleFilterFeed,onFocus:this.handleFocusFilterInput,placeholder:e(t?"study_feed.latest_activity.filter_include_content_search_placeholder":"study_feed.latest_activity.filter_placeholder"),type:"search"})))}renderControls(){return Object(d.b)()?m.a.createElement(c.a,null):this.props.shouldShowFilter?this.renderFilter():null}renderEmptyState(){return m.a.createElement(s.a,{bodyContent:m.a.createElement(n.a,{id:"study_feed.latest_activity.empty_state.description"}),buttonContent:m.a.createElement(n.a,{id:"study_feed.latest_activity.empty_state.find_study_sets"}),buttonLinkTo:"/subject",headerContent:m.a.createElement(n.a,{id:"study_feed.latest_activity.empty_state.heading"})})}render(){return m.a.createElement("div",{className:"ProfileRecentFeed"},this.renderControls(),this.props.shouldShowEmptyState?this.renderEmptyState():m.a.createElement(a.a,this.props))}}}).call(this,r("nrsj").default)},Pfkr:function(e,t,r){"use strict";var s,a,n=r("vZIR");r("Qfp6");e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1459707606518));return r===a?s++:(s=0,a=r),t+=n(6),t+=n(e),s>0&&(t+=n(s)),t+=n(r)}},QeEZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r("og3H"),a=r("q1tI"),n=r("TEdO"),i=r("SKs2"),l=r("6JjY"),o=r("xk4V"),d=r.n(o);class c extends a.Component{constructor(e){super(e),this.handleClick=e=>{var{children:t}=this.props,r=a.Children.only(t);r.props.onClick&&r.props.onClick(e),this.logStudyFunnelEventForAction(s.Bb.CLICK)},this.maybeLogMarketplaceEvent=()=>{var{marketplaceChannel:e,modelId:t,modelType:r}=this.props;e&&Object(n.b)({action:s.B.IMPRESSION,channel:e,modelType:r,modelId:t})},this.logStudyFunnelEventForAction=e=>{var{itemOrder:t,modelType:r,modelId:s,profileOwnerId:a,pageOrder:n,placement:l,recommendationAlgorithm:o,subplacement:d}=this.props;Object(i.a)(e,n,t,s,r,l,d,this.funnelUUID,void 0,o,a)},this.funnelUUID=d()()}render(){return a.createElement(l.a,{once:!0,onIntersect:()=>{this.logStudyFunnelEventForAction(s.Bb.IMPRESSION),this.maybeLogMarketplaceEvent()},threshold:.5},(()=>a.cloneElement(a.Children.only(this.props.children),{onClick:this.handleClick,funnelUUID:this.funnelUUID})))}}},Qfp6:function(e,t,r){"use strict";r("uqXc"),r("pDQq"),r("EnZy");var s,a,n,i=r("fqyn"),l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function o(){n=!1}function d(e){if(e){if(e!==s){if(e.length!==l.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. These characters were not unique: "+t.join(", "));s=e,o()}}else s!==l&&(s=l,o())}function c(){return n||(n=function(){s||d(l);for(var e,t=s.split(""),r=[],a=i.nextValue();t.length>0;)a=i.nextValue(),e=Math.floor(a*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return s||l},characters:function(e){return d(e),s},seed:function(e){i.seed(e),a!==e&&(o(),a=e)},lookup:function(e){return c()[e]},shuffled:c}},"R6/S":function(e,t,r){"use strict";r.d(t,"i",(function(){return m})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return v})),r.d(t,"d",(function(){return E})),r.d(t,"e",(function(){return C})),r.d(t,"a",(function(){return S})),r.d(t,"c",(function(){return I})),r.d(t,"b",(function(){return g})),r.d(t,"j",(function(){return y})),r.d(t,"k",(function(){return F})),r.d(t,"h",(function(){return P}));r("Rm1S"),r("FZtP");var s=r("NWnA"),a=r("FNAd"),n=r("l/Tc"),i=r("peh1"),l=r("d7Q7"),o=r("6/M9"),d=Object(s.c)(n.a),c=Object(i.createSelector)(d,(e=>e.feed)),u=Object(i.createSelector)(d,(e=>e.models)),p=Object(i.createSelector)(d,(e=>e.unpublishedSets)),h=Object(i.createSelector)(d,(e=>e.classMemberships)),m=Object(i.createSelector)(d,(e=>e.user)),f=Object(i.createSelector)(d,(e=>e.resetFeedReqCounter)),b=Object(i.createSelector)(c,u,h,m,((e,t,r,s)=>{var a=Object(o.a)(t,r,s);return e.map((e=>a(e))).filter((e=>!!e))})),v=Object(i.createSelector)(c,(e=>{var t={set:[],session:[],classSet:[],userContentPurchase:[]};return e.forEach((e=>{var r=e.type;"classSet"===r?t[r].push(e.classId+"-"+e.setId):t[r].push(""+e.id)})),t})),E=Object(i.createSelector)(d,(e=>e.isFeedFinished)),C=Object(i.createSelector)(d,(e=>e.isFetchingFeed)),S=Object(i.createSelector)(d,(e=>e.filterFeedQuery)),I=Object(i.createSelector)(b,l.b),g=Object(i.createSelector)([p,S],((e,t)=>{if(!t)return e;var r=Object(a.b)(t);return e.filter((e=>e.title&&e.title.match(r)))})),k=Object(i.createSelector)(c,p,S,((e,t,r)=>!e.length&&!t.length&&""===r)),y=Object(i.createSelector)(k,E,((e,t)=>e&&t)),F=Object(i.createSelector)(k,(e=>!e)),P=Object(i.createSelector)(d,(e=>e.shouldShowContentSearchText))},SKs2:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return c}));r("zKZe");var s=r("og3H"),a=r("zK28"),n=r("QLaP"),i=r.n(n),l=r("QR21"),o=r("sLV1");function d(e,t,r,n,i,d,c,u,p,h,m){var f={client_timestamp:Object(o.c)(),platform:s.J.WEB,uid:a.a.uid,user_agent:window.navigator.userAgent,user_id:a.a.user?a.a.user.id:null},b=Object.assign({action:e,page_order:t,item_order:r,funnel_uuid:u,model_id:n,model_type:i,profile_owner_id:m,page:window.location.href,placement:d,recommendation_algorithm:h,referrer:window.document.referrer,subplacement:c,reason:p},f);Object(l.a)("study_funnel_events",b)}var c=(e,t,r)=>{i()(r,"studyFunnelData should not be undefined");var{funnelUUID:a,itemOrder:n,pageOrder:l,placement:o,subplacement:c}=r||{};d(s.Bb.REJECT,l,n,e.id,s.D.SET,o,c,a,t)}},ScLN:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u}));var s=r("ZKm7"),a=r("/PIh"),n=r("t1Ez"),i=r("1vuM"),l=r("s52C"),o=r("q1tI"),d=r.n(o),c=r("2McN");class u extends o.PureComponent{renderPrepPackFoldersCount(e){var t=e.numStudyGuides;return d.a.createElement("span",{className:"PrepPackPreview-cardBylineSetsCount"},t?d.a.createElement(n.a,{id:"global.prep_pack_preview.num_folders",numFolders:t}):null)}renderCreatorLink(e){return d.a.createElement("div",{className:"PrepPackPreview-cardBylineCreator"},d.a.createElement(l.a,{badge:!!e.isVerified,user:e}))}renderLabelTag(){return d.a.createElement("div",{className:"PrepPackPreview-labelTagWrap"},d.a.createElement("div",{className:"UIBaseCard-labelTag"},e("content_preview_card.prep_pack_flag")))}render(){var{creator:e,funnelUUID:t,onClick:r,prepPack:n}=this.props;return n?d.a.createElement("div",{className:"PrepPackPreviewLink"},d.a.createElement(i.a,{ariaLabel:n.name,doesMatchRouterPath:!0,onClick:r,to:Object(c.a)(n.webUrl,{funnelUUID:t})},d.a.createElement("div",{className:"PrepPackPreview"},d.a.createElement("div",{className:"PrepPackPreview-cardByLineWrapper"},d.a.createElement(s.a,null,n?this.renderPrepPackFoldersCount(n):null,e?this.renderCreatorLink(e):null)),d.a.createElement("header",{className:"PrepPackPreview-cardHeader"},d.a.createElement("span",{className:"PrepPackPreview-cardHeaderTitle"},d.a.createElement(a.a,{className:"PrepPackPreview-queryMatchHighlight",query:this.props.highlightQuery,text:n.name}))),this.renderLabelTag()))):null}}}).call(this,r("nrsj").default)},TlBk:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return m}));r("4mDm"),r("zKZe"),r("3bBZ");var s=r("pVnL"),a=r.n(s),n=r("8OQS"),i=r.n(n),l=r("6103"),o=r("1vuM"),d=r("og3H"),c=r("q1tI"),u=r.n(c),p=r("2McN"),h=r("b5qW");class m extends u.a.PureComponent{constructor(){super(...arguments),this.getWebUrl=()=>{var{set:e,funnelUUID:t,crawlLinkSource:r}=this.props;return Object(p.a)(e._webUrl,{funnelUUID:t,src:r})}}renderWithUILinkBox(){var t=this.props,{crawlLinkSource:r,creator:s,funnelUUID:n,onClick:d,topImageUrl:c,set:h}=t,m=i()(t,["crawlLinkSource","creator","funnelUUID","onClick","topImageUrl","set"]),f=c?Object.assign({},h,{hasDiagrams:!1}):h;return u.a.createElement("div",{className:"SetPreviewLink"},u.a.createElement(o.a,{ariaLabel:h.title,onClick:d,to:Object(p.a)(h._webUrl,{funnelUUID:n,src:r})},c?u.a.createElement("div",{className:"SetPreviewLink-image",style:{backgroundImage:"url("+c+")"}}):null,u.a.createElement(l.a,a()({},m,{creator:s,label:this.shouldShowPremiumSetLabel()?e("content_preview_card.premium_set_flag"):null,set:f,variant:this.props.variant}))))}renderWithoutUILinkBox(){var t=this.props,{creator:r,onClick:s,topImageUrl:n,set:o}=t,d=i()(t,["creator","onClick","topImageUrl","set"]),c=n?Object.assign({},o,{hasDiagrams:!1}):o,p=Object(h.a)(this.getWebUrl(),{onNavigation:s});return u.a.createElement("div",a()({},p,{className:"SetPreviewLink SetPreviewLink--noLinkBox"}),n?u.a.createElement("div",{className:"SetPreviewLink-image",style:{backgroundImage:"url("+n+")"}}):null,u.a.createElement(l.a,a()({},d,{creator:r,label:this.shouldShowPremiumSetLabel()?e("content_preview_card.premium_set_flag"):null,set:c,titleIsClickable:!0,variant:this.props.variant})))}render(){return this.props.set?this.props.titleIsClickable?this.renderWithoutUILinkBox():this.renderWithUILinkBox():null}shouldShowPremiumSetLabel(){var{creator:e,set:t}=this.props,r=t.purchasableType!==d.M.FREE;return!(null==e||!e.isVerified||!r)}}}).call(this,r("nrsj").default)},YdN8:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var s=r("Cj8V"),a=r("vLbS"),n=r("0dn1"),i=r("COyg"),l=r("Vg22"),o=r("pn57"),d=r("FdmV"),c=Object(d.a)("profilePage",{value:i.i}),u=Object(l.connect)(c,(e=>Object(o.bindActionCreators)({onChange:n.c},e)))(a.a),p=r("welx"),h=r("q1tI"),m=r.n(h),f=Object(p.styled)("div")({name:"ProfilePageControlsWrapper",class:"pd21e3q"});function b(e){var t;return m.a.createElement(f,null,m.a.createElement(u,null),e.shouldShowFilter?m.a.createElement(s.a,{onChange:t=>{e.actions.filterFeed({filterFeedQuery:t})},value:null!=(t=e.filterFeedQuery)?t:""}):null)}r("rA97")},avtF:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var s=r("/i8B"),a=r("q1tI"),n=r.n(a);class i extends n.a.PureComponent{render(){return n.a.createElement("div",{className:"DashboardFeedGroup"},n.a.createElement("header",{"aria-label":this.props.title,className:"DashboardFeedGroup-header"},n.a.createElement("h3",{className:"DashboardFeedGroup-title"},this.props.title),n.a.createElement("div",{className:"DashboardFeedGroup-separator"},n.a.createElement(s.a,null))),this.props.children)}}},dZeO:function(e,t,r){"use strict";r("4mDm"),r("3bBZ");var s=r("ZKm7"),a=r("/PIh"),n=r("t1Ez"),i=r("FFEN"),l=r("bvRJ"),o=r("a08m"),d=r("s52C"),c=r("q1tI"),u=r.n(c),p=r("2McN"),h=r("RPLW"),m=r.n(h);class f extends c.PureComponent{constructor(){super(...arguments),this.handleClickCreatorLink=e=>e.stopPropagation(),this.handleKeydownCreatorLink=e=>{"Enter"===e.key&&this.handleClickCreatorLink(e)}}renderCreatorLink(e){return u.a.createElement("div",{className:"FolderPreview-cardBylineCreator",onClick:this.handleClickCreatorLink,onKeyDown:this.handleKeydownCreatorLink},u.a.createElement(d.a,{badge:e.isVerified||!1,user:e}))}renderFolderSetsCount(e){var t=e.folderSets;return u.a.createElement("span",{className:"FolderPreview-cardBylineSetsCount"},t?u.a.createElement(n.a,{id:"global.folder_preview.num_sets",numSets:t.length}):null)}renderPrice(e){return u.a.createElement("div",{className:"FolderPreview-priceTag"},u.a.createElement(i.a,{deprecatedStyle:!0,size:4},e))}renderTitle(){var{folder:e,funnelUUID:t}=this.props,r=u.a.createElement("span",{className:"FolderPreview-cardHeaderTitle"},this.renderQuerySnippetTextHighlighter());return this.props.titleIsClickable&&e._webUrl?u.a.createElement(o.a,{ariaLabel:e.name,to:Object(p.a)(e._webUrl,{funnelUUID:t})},r):r}renderQuerySnippetTextHighlighter(){var{folder:e}=this.props;return u.a.createElement(a.a,{className:"FolderPreview-queryMatchHighlight",query:this.props.highlightQuery,text:e?e.name:""})}renderLabelTag(e){return u.a.createElement("div",{className:"FolderPreview-labelTagWrap"},u.a.createElement("div",{className:"UIBaseCard-labelTag"},e))}render(){var{folder:e,creator:t,price:r,label:a}=this.props;return u.a.createElement("div",{className:"FolderPreview"},u.a.createElement("div",{className:"FolderPreview-cardByLineWrapper"},u.a.createElement(s.a,null,e?this.renderFolderSetsCount(e):null,t?this.renderCreatorLink(t):null),r?this.renderPrice(r):null),u.a.createElement("header",{className:"FolderPreview-cardHeader"},e?u.a.createElement(l.a,{className:"FolderPreview-icon",icon:"folder"}):null,this.renderTitle()),a?this.renderLabelTag(a):null)}}f.defaultProps={titleIsClickable:!1},t.a=m()(f)},eFEY:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("FZtP"),r("Wr5T");var s=function(e,t,r,s){void 0===r&&(r=0),void 0===s&&(s=!0);var a=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&(s&&a.unobserve(e.target),t(e))}))}),{threshold:r}),n=(e=>window.document.querySelectorAll(e.join()))(e);return Array.from(n).forEach((e=>{a.observe(e)})),a}},fC7F:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c}));var s=r("avtF"),a=r("owmo"),n=r("QeEZ"),i=r("TlBk"),l=r("og3H"),o=r("q1tI"),d=r.n(o);class c extends o.PureComponent{render(){var{unpublishedSets:t}=this.props;return d.a.createElement(s.a,{title:e("study_feed.latest_activity.draft_sets_group_title")},t.map(((e,t)=>d.a.createElement(a.a,{key:e.id},d.a.createElement(n.a,{itemOrder:t,key:e.id,modelId:e.id,modelType:l.D.SET,pageOrder:0,placement:l.Cb.PROFILE_RECENT,subplacement:l.Db.RECENT_FEED},d.a.createElement(i.a,{highlightQuery:this.props.filterFeedQuery,set:e}))))))}}}).call(this,r("nrsj").default)},fqyn:function(e,t,r){"use strict";var s=1;e.exports={nextValue:function(){return(s=(9301*s+49297)%233280)/233280},seed:function(e){s=e}}},je4i:function(e,t,r){"use strict";e.exports=r("Bpvx")},kgm1:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p}));var s=r("yXPU"),a=r.n(s),n=r("l/Tc"),i=r("R6/S"),l=r("Qyje"),o=r.n(l),d=r("Ri2w"),c=e=>{var{payload:t,include:r}=e,{folderIds:s}=t;return function(){var e=a()((function*(e){var t=o.a.stringify({filters:{folderId:s.join(","),isDeleted:!1},include:r}),a=yield Object(d.d)("/webapi/3.4/folder-sets",t);return e(Object(n.e)(a))}));return function(t){return e.apply(this,arguments)}}()},u=e=>{var{resetFeed:t=!1,repeatSets:r=!1}=e;return function(){var e=a()((function*(e,s){var a=s();if(!Object(i.e)(a)||t){var l=Object(i.g)(a),u=Object(i.f)(a)+1,p="/webapi/3.2/feed/"+Object(i.i)(a).id,h=o.a.stringify({perPage:25,query:Object(i.a)(a),seenClassSetIds:t?null:l.classSet.join(","),seenSessionIds:t?null:l.session.join(","),seenCreatedSetIds:t?null:l.set.join(","),filters:{sessions:{isVisible:!0,repeatSets:r},sets:{isPublished:!0}},include:{classSet:{0:"class",1:"set",set:"creator"},session:{0:"folder",1:"set",folder:"user",set:"creator"},set:["creator"],userContentPurchase:{0:"set",1:"folder",set:"creator",folder:"person"}}},{arrayFormat:"brackets"});e(Object(n.c)({resetFeed:t}));var m=(yield Object(d.f)(p,h)).responses[0];e(Object(n.d)({response:m,resetFeed:t,resetFeedReqNum:u}));var f=m.models.folder?m.models.folder.filter((e=>e.isHidden)).map((e=>e.id)):[];f.length>0&&e(c({payload:{folderIds:f},include:{folderSet:{0:"set",set:"creator"}}}));var b=m.models.folder?m.models.folder.filter((e=>!e.isHidden)).map((e=>e.id)):[];b.length>0&&e(c({payload:{folderIds:b}}))}}));return function(t,r){return e.apply(this,arguments)}}()},p=e=>{var{filterFeedQuery:t}=e;return e=>{e(Object(n.f)({filterFeedQuery:t})),e(u({resetFeed:!0}))}}},"l/Tc":function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h})),r.d(t,"b",(function(){return m}));var s=r("j3R9"),a=r("NWnA"),n=r("yTNO"),i=r("URo/"),l="profileRecent",o=Object(s.createSlice)({name:l,initialState:{classMemberships:[],feed:[],feedTotal:0,filteredFeed:[],filterFeedQuery:"",isFeedFinished:!1,isFetchingFeed:!1,lastResetFeedReqNum:0,models:{},resetFeedReqCounter:0,shouldShowContentSearchText:!1,unpublishedSets:[],user:{}},reducers:{init(e,t){var{payload:r}=t;e.classMemberships=r.classMemberships,e.unpublishedSets=r.unpublishedSets,e.user=r.user,e.models=Object(i.c)(e.models,r.models),e.shouldShowContentSearchText=r.shouldShowContentSearchText},requestFeedAsync(e,t){var{payload:r}=t;e.isFetchingFeed=!0,r.resetFeed&&(e.resetFeedReqCounter=e.resetFeedReqCounter+1)},requestFeedAsyncSuccess(e,t){var{payload:r}=t,{models:s,paging:a}=r.response,l=Object(n.a)(s);if(r.resetFeed){if(r.resetFeedReqNum<e.lastResetFeedReqNum)return;e.feed=[],e.isFeedFinished=!1,e.lastResetFeedReqNum=r.resetFeedReqNum}e.feedTotal=a.total,e.isFeedFinished=a.isFeedFinished,e.isFetchingFeed=!1,e.models=Object(i.c)(e.models,s),e.feed=e.feed.concat(l)},updateFilterFeedQuery(e,t){var{payload:r}=t;e.filterFeedQuery=r.filterFeedQuery},requestFolderSetsAsyncSuccess(e,t){var{payload:r}=t,{models:s}=r;e.models=Object(i.c)(e.models,s)}}}),{init:d,requestFeedAsync:c,updateFilterFeedQuery:u,requestFeedAsyncSuccess:p,requestFolderSetsAsyncSuccess:h}=o.actions;function m(e){var{models:t,classMemberships:r,unpublishedSets:s,user:n,shouldShowContentSearchText:i}=e;a.a.register({profileRecent:o.reducer}),a.b.dispatch(d({classMemberships:r,unpublishedSets:s,user:n,models:t,shouldShowContentSearchText:i}))}},llOj:function(e,t,r){"use strict";var s=r("MlNO"),a=r("fC7F"),n=r("Pxp3"),i=r("og3H"),l=r("lfFz"),o=r("FNAd"),d=r("X0lI"),c=r.n(d),u=r("q1tI"),p=r.n(u);function h(e){var{actions:t,feed:r,filterFeedQuery:d,isFeedFinished:u,isFetchingFeed:h,shouldShowAd:m,unpublishedSets:f,user:b}=e,v=f&&!!f.length,E=Object(o.a)(l.c.LATEST_ACTIVITY,b.id);return p.a.createElement(n.a,{className:"LatestActivityFeed"},v?p.a.createElement("div",{className:"LatestActivityFeed-unpublishedSets"},p.a.createElement(a.a,{filterFeedQuery:d,unpublishedSets:c()(f)})):null,p.a.createElement(s.a,{actions:t,feed:r,feedId:E,filterFeedQuery:d,isChunked:!0,isFeedFinished:u,isFetchingFeed:h,mWebAdPosition:v?3:4,shouldRepeatSets:!1,shouldShowAd:m,studyFunnelEventPlacement:i.Cb.PROFILE_RECENT}))}t.a=p.a.memo(h)},n8Jw:function(e,t,r){"use strict";e.exports=0},owmo:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("q1tI"),a=r.n(s);class n extends a.a.PureComponent{render(){return a.a.createElement("div",{className:"DashboardListItem"},this.props.children)}}},rA97:function(e,t,r){"use strict";r.r(t)},skun:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("q1tI"),a=r.n(s);class n extends a.a.PureComponent{render(){return a.a.createElement("div",{className:"PreviewCardContextMenu"},this.props.children)}}},uogC:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r("JxFz"),a=r("Pxp3"),n=r("FFEN"),i=r("a08m"),l=r("zt8I"),o=r("q1tI"),d=r.n(o);class c extends d.a.PureComponent{render(){return d.a.createElement(a.a,{className:"DashboardFeedEmptyState"},d.a.createElement(n.a,{deprecatedStyle:!0,size:3},this.props.headerContent),this.props.bodyContent?d.a.createElement(a.a,{className:"DashboardFeedEmptyState-body"},d.a.createElement(l.a,null,this.props.bodyContent)):null,this.props.buttonContent?d.a.createElement(a.a,{className:"DashboardFeedEmptyState-button"},d.a.createElement(s.a,{linkTo:this.props.buttonLinkTo,onClick:this.props.onClickButton},this.props.buttonContent)):null,this.props.secondaryLinkContent?d.a.createElement(a.a,{className:"DashboardFeedEmptyState-button"},d.a.createElement(i.a,{onClick:this.props.onClickLink,to:this.props.secondaryLinkTo},this.props.secondaryLinkContent)):null)}}},vLbS:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c}));var s=r("qqKc"),a=r("wY36"),n=r("rqud"),i=r("q1tI"),l=r.n(i),o={[n.a.CREATED]:e("profile.model_views.created"),[n.a.RECENT]:e("profile.model_views.recent"),[n.a.STUDIED]:e("profile.model_views.studied")},d=e=>{var{onChange:t}=e;return l.a.createElement(a.a,{width:"narrow"},l.a.createElement(a.b,{key:"created",onClick:()=>t(n.a.CREATED),text:o[n.a.CREATED]}),l.a.createElement(a.b,{key:"recent",onClick:()=>t(n.a.RECENT),text:o[n.a.RECENT]}),l.a.createElement(a.b,{key:"studied",onClick:()=>t(n.a.STUDIED),text:o[n.a.STUDIED]}))};function c(e){var t=Object(i.useRef)(null);return l.a.createElement(s.e,{menu:l.a.createElement(d,{onChange:r=>{var s;null==(s=t.current)||s.close(),e.onChange(r)}}),overlayProps:{ref:t},text:o[e.value]})}}).call(this,r("nrsj").default)},vZIR:function(e,t,r){"use strict";var s=r("Qfp6"),a=r("CR0S"),n=r("yQNX");e.exports=function(e){for(var t,r=0,i="";!t;)i+=n(a,s.get(),1),t=e<Math.pow(16,r+1),r++;return i}},xTTd:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var s=r("mahw"),a=r("q1tI"),n=r.n(a);class i extends n.a.PureComponent{render(){return n.a.createElement("div",{className:"PreviewCardContextMenuItem"},n.a.createElement(s.a,{icon:this.props.icon,onClick:this.props.onClick,text:this.props.label,to:this.props.to,variant:this.props.variant}))}}},yQNX:function(e,t){e.exports=function(e,t,r){for(var s=(2<<Math.log(t.length-1)/Math.LN2)-1,a=Math.ceil(1.6*s*r/t.length),n="";;)for(var i=e(a),l=0;l<a;l++){var o=i[l]&s;if(t[o]&&(n+=t[o]).length===r)return n}}},yTNO:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return d}));r("+2oP"),r("B6y2"),r("FZtP");var s=r("og3H"),a=r("JPcv"),n=r("je4i"),i=r.n(n);function l(e,t){var r=i.a.generate();switch(e){case"session":return{localId:r,type:"session",id:t.id,timestamp:t.lastModified};case"set":return{localId:r,type:"set",id:t.id,timestamp:t.lastModified};case"classSet":return{localId:r,type:"classSet",classId:t.classId,setId:t.setId,timestamp:t.lastModified};case"userContentPurchase":return{localId:r,type:"userContentPurchase",id:t.id,modelId:t.modelId,modelType:t.modelType,timestamp:t.purchaseTimestamp};case"classFolder":return{localId:r,type:"classFolder",classId:t.classId,folderId:t.folderId,timestamp:t.lastModified};default:throw new Error("Unrecognized feed item type: '"+e+"'. Should be one of 'session', 'set', 'userContentPurchase', '.")}}function o(e){for(var t,r,a,n,i=(e.set||[]).filter((t=>{var r,a,n;return!(null!=(r=e.session)&&r.find((e=>e.itemType===s.Lb.SET&&e.itemId===t.id))||null!=(a=e.classSet)&&a.find((e=>e.setId===t.id))||null!=(n=e.userContentPurchase)&&n.find((e=>e.modelType===s.D.SET&&e.modelId===t.id)))})),o={session:null==(t=e.session)?void 0:t.slice(),set:i,classSet:null==(r=e.classSet)?void 0:r.slice(),userContentPurchase:null==(a=e.userContentPurchase)?void 0:a.slice(),classFolder:null==(n=e.classFolder)?void 0:n.slice()},d=[],c=function(){var e=0,t=void 0;Object.keys(o).forEach((r=>{var s;if(null!=(s=o[r])&&s.length){var a=o[r][0];a.lastModified>e&&(e=a.lastModified,t=l(r,a))}})),o[t.type].shift(),d.push(t)};Object.values(o).some((e=>null==e?void 0:e.length));)c();return d}function d(e){for(var t=new a.Stack(e.session),r=new a.Stack(e.classSet),n=new a.Stack(e.userContentPurchase),i=new a.Stack(e.set).filterNot((e=>t.find((t=>t.itemType===s.Lb.SET&&t.itemId===e.id))||r.find((t=>t.setId===e.id))||n.find((t=>t.setId===e.id)))),o=new a.Stack(e.classFolder),d={session:t,set:i,classSet:r,userContentPurchase:n,classFolder:o},c=[],u=function(){var e=0,t=void 0;Object.keys(d).forEach((r=>{if(!d[r].isEmpty()){var s=d[r].peek();s.lastModified>e&&(e=s.lastModified,t=l(r,s))}})),d[t.type]=d[t.type].shift(),c.push(t)};!Object.values(d).every((e=>e.isEmpty()));)u();return c}}}]);