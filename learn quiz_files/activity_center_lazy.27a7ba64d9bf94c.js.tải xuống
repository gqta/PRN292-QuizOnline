(window.QJP=window.QJP||[]).push([["activity_center_lazy"],{"5OCO":function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));i("UxlC");var r=i("pVnL"),n=i.n(r),a=i("TSYQ"),o=i.n(a),s=i("xqF0"),c=i("jvKz"),l=i("FJLI"),p=i("vzun"),d=i("q1tI"),m=i.n(d),v=i("EFuM");class h extends m.a.Component{constructor(e){super(e),this.handleClick=e=>{this.props.onClick&&this.props.onClick(e)},this.handleOpenPopover=()=>{this.setState({isPopoverOpen:!0})},this.handleClosePopover=()=>{this.setState({isPopoverOpen:!1})},this.shouldOpenTooltip=()=>!this.state.isPopoverOpen,this.state={isPopoverOpen:!1,menuTriggerActionOn:e.menuTriggerActionOn||(Object(v.j)()?"click":"hover"),tooltipTriggerActionOn:e.tooltipTriggerActionOn||(Object(v.j)()?"click":"hover")}}UNSAFE_componentWillReceiveProps(e){this.props.menuTriggerActionOn!==e.menuTriggerActionOn&&this.setState({menuTriggerActionOn:e.menuTriggerActionOn}),this.props.tooltipTriggerActionOn!==e.tooltipTriggerActionOn&&this.setState({tooltipTriggerActionOn:e.tooltipTriggerActionOn})}renderPopover(e){var t=this,i=m.a.Children.toArray(e.props.children).map((e=>e.props&&e.props.onClick?m.a.cloneElement(e,{onClick:function(){var i;t.popoverTrigger&&t.popoverTrigger.close(),(i=e.props).onClick.apply(i,arguments)}}):e));return m.a.createElement(l.a,{arrow:this.props.arrow,extraClassNames:this.props.extraClassNames,includeArrowInBounds:!0,spacing:this.props.popoverSpacing,variant:this.props.popoverVariant},m.a.cloneElement(e,{children:i}))}renderIconButton(){var e,t=o()("MenuIconWithTooltip",{"is-opened":this.state.isPopoverOpen});return e=this.props.linkTo?m.a.createElement(s.a,n()({icon:this.props.icon},this.props.iconProps,{linkTo:this.props.linkTo,title:this.props.tooltipText})):m.a.createElement(s.a,n()({icon:this.props.icon},this.props.iconProps,{onClick:this.handleClick,title:this.props.tooltipText})),m.a.createElement("span",{className:t},e)}renderButton(){var e=o()("MenuIconWithTooltip","is-"+this.props.popoverPosition.replace(/ /g,""),{"MenuIconWithTooltip--isHigherZIndex":this.props.isHigherZIndex}),{menu:t}=this.props;return t?m.a.createElement(c.a,{beforeClose:this.handleClosePopover,beforeOpen:this.handleOpenPopover,className:e,constrainToWindow:!1,overlay:this.renderPopover(t),position:this.props.popoverPosition,ref:e=>{this.popoverTrigger=e},triggerAction:this.state.menuTriggerActionOn},this.renderIconButton()):this.renderIconButton()}render(){var e=Object(v.f)()||Object(v.j)(),t="always"===this.state.tooltipTriggerActionOn,{tooltipText:i}=this.props,r=o()(this.props.tooltipOverlayClassName,{"MenuIconWithTooltip--isHigherZIndex":this.props.isHigherZIndex});return!i||e&&!t?this.renderButton():m.a.createElement(c.a,{afterOpen:this.props.afterOpenTooltip,beforeOpen:this.shouldOpenTooltip,className:r,overlay:m.a.createElement(p.a,null,i),position:this.props.tooltipPosition,ref:e=>{this.tooltipTrigger=e},triggerAction:this.state.tooltipTriggerActionOn},this.renderButton())}}h.defaultProps={arrow:!0,iconProps:{},isHigherZIndex:!1,popoverPosition:"bottom left",popoverSpacing:"regular",popoverVariant:"none",tooltipPosition:"bottom",tooltipTriggerActionOn:"hover"}},eFEY:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i("FZtP"),i("Wr5T");var r=function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=!0);var n=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&(r&&n.unobserve(e.target),t(e))}))}),{threshold:i}),a=(e=>window.document.querySelectorAll(e.join()))(e);return Array.from(a).forEach((e=>{n.observe(e)})),n}},mahw:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r=i("8OQS"),n=i.n(r),a=i("AQxD"),o=i("bvRJ"),s=i("ugal"),c=i("q1tI"),l=i.n(c);class p extends l.a.PureComponent{renderBadge(){return"yellow"===this.props.badgeColor?l.a.createElement("div",{className:"MenuItemWithIcon-UIBadge"},l.a.createElement(a.a,{menu:!0,variant:"yellow"},this.props.badgeText)):"indigo"===this.props.badgeColor?l.a.createElement("div",{className:"MenuItemWithIcon-featureBadge"},this.props.badgeText):null}render(){var e=this.props,{icon:t,iconPosition:i,iconSize:r,text:a}=e,c=n()(e,["icon","iconPosition","iconSize","text"]);return l.a.createElement(s.a,c,l.a.createElement("span",{className:"MenuItemWithIcon-inner"},t?l.a.createElement(o.a,{className:"MenuItemWithIcon-"+i,icon:t,size:r}):null,this.props.badgeText?this.renderBadge():null,l.a.createElement("span",{className:"MenuItemWithIcon-text"},a)))}}p.defaultProps={iconPosition:"left",iconSize:"medium"}},"nL9/":function(e,t,i){"use strict";i.r(t);i("4mDm"),i("3bBZ");var r=i("yXPU"),n=i.n(r),a=i("VzCf"),o=i("TSYQ"),s=i.n(o),c=i("5OCO"),l=i("mahw"),p=i("t1Ez"),d=i("q1tI"),m=i.n(d),v=i("+IfW"),h=i("eFEY"),u=e=>{var{actions:t,contentCard:i,cardIndex:r}=e;Object(d.useEffect)((()=>{Object(h.a)(["#card-"+r],(()=>{i.unread&&setTimeout((()=>{t.readContentCard(i)}),1e3)}),.5,!0)}),[t,i,r]);var n=()=>{t.removeContentCard(i)},a=s()("ActivityCenterCard",{"ActivityCenterCard--unread":!i.clicked});return m.a.createElement("div",{className:a,"data-testid":"ActivityCenterCard-testid",onClick:()=>{t.clickContentCard(i)}},!i.clicked&&m.a.createElement("div",{className:"ActivityCenterCard-unreadIndicator","data-testid":"ActivityCenterCard-unreadIndicator-testid"}),i.imageUrl&&m.a.createElement("img",{alt:"",className:"ActivityCenterCard-image","data-testid":"ActivityCenterCard-image-testid",src:i.imageUrl}),m.a.createElement("div",{className:"ActivityCenterCard-body",id:"card-"+r},m.a.createElement("div",{className:"ActivityCenterCard-message"},i.message.length>150?m.a.createElement("span",null,Object(v.a)(i.message,150)):m.a.createElement(m.a.Fragment,null,m.a.createElement("span",null,i.message," "),m.a.createElement("span",{className:"ActivityCenterCard-cta"},Object(v.a)(i.title,150-i.message.length))," "),m.a.createElement("span",{className:"ActivityCenterCard-timestamp","data-testid":"ActivityCenterCard-timestamp-testid"},i.timestamp))),m.a.createElement("div",{className:"ActivityCenterCard-menu","data-testid":"ActivityCenterCard-menu-testid"},m.a.createElement(c.a,{extraClassNames:"UIPopover--activityCenter UIPopover--clean",icon:"more",iconProps:{size:"large",variant:"borderless"},menu:m.a.createElement(m.a.Fragment,null,m.a.createElement(l.a,{icon:"garbage",iconSize:"large",key:"garbage",onClick:n,text:m.a.createElement(p.a,{id:"activity_center.cards.menu.remove_notifications"})})),menuTriggerActionOn:"click",onClick:e=>{e.stopPropagation()},popoverPosition:"bottom right"})))},g=i("dxfC"),C=i("T3U7");t.default=e=>{var{actions:t,isOpen:i}=e,[r,o]=Object(d.useState)([]);Object(d.useEffect)((()=>{i&&(function(){var e=n()((function*(){var e=yield a.c();o(e)}));return function(){return e.apply(this,arguments)}}()(),a.e(),t.markCardsAsDisplayed(),Object(C.a)("activity_center_cards_displayed"))}),[i]);var s=e=>{a.b(e),o(r.filter((t=>t.id!==e.id))),Object(C.a)("activity_center_card_dismissed")},c=e=>{a.f(e),Object(C.a)("activity_center_card_read")},l=e=>{Object(C.a)("activity_center_card_clicked"),a.a(e)};return m.a.createElement(g.a,{className:"ActivityCenter-modal",fullWidthBody:!0,isOpen:i,onClose:t.onClose},m.a.createElement("div",{className:"ActivityCenter"},m.a.createElement("div",{className:"ActivityCenter-title"},m.a.createElement(p.a,{id:"activity_center.title"})),r.length>0?m.a.createElement("div",{className:"ActivityCenter-cards"},r.map(((e,t)=>m.a.createElement(u,{actions:{clickContentCard:l,removeContentCard:s,readContentCard:c},cardIndex:t,contentCard:e,key:e.id})))):m.a.createElement("div",{className:"ActivityCenter-placeholder"},m.a.createElement("div",{className:"ActivityCenter-placeholderImage"}),m.a.createElement("span",{className:"ActivityCenter-placeholderText"},m.a.createElement(p.a,{id:"activity_center.placeholder"})))))}}}]);