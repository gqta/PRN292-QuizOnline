(window.QJP=window.QJP||[]).push([["prismic_testimonials"],{"190i":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return l}));var s=i("q1tI"),a=i.n(s),r=i("WHvC"),n=i("JwOH");function l(e,t){Object(r.a)(a.a.createElement(n.a,{defaultSelectedIndex:e.defaultSelectedTestimonialIndex,showQuotes:e.showQuotes,testimonials:e.testimonials}),t)}},JwOH:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return v}));var s,a=i("TSYQ"),r=i.n(a),n=i("ueNg"),l=i("t1Ez"),o=i("8WOz"),d=i("Pxp3"),h=i("FFEN"),u=i("a08m"),c=i("QLaP"),m=i.n(c),p=i("q1tI"),g=i.n(p),w=i("T3U7");!function(e){e.WHITE="white",e.ORANGE="light orange"}(s||(s={}));class v extends p.PureComponent{constructor(e){super(e),this.handleClickUser=e=>{Object(w.a)("homepage_testimonial_clicked",{selectedUserId:this.props.testimonials[e].userId,selectedUserDisplayName:this.props.testimonials[e].displayName}),this.setState({selectedIndex:e})},m()(e.defaultSelectedIndex>=0&&e.defaultSelectedIndex<e.testimonials.length,"Testimonials are hard-coded and one will always be selected by default"),this.state={selectedIndex:e.defaultSelectedIndex}}getSelectedQuote(){return this.props.testimonials[this.state.selectedIndex].quote}renderTestimonialUser(t,i){var s=r()("Testimonials-user",{isSelected:t===this.state.selectedIndex});return g.a.createElement("div",{className:s,key:t},g.a.createElement(d.a,null,g.a.createElement(u.a,{onClick:this.handleClickUser.bind(null,t)},g.a.createElement("div",{"aria-label":e("homepage.en_gb.testimonials.image_label",{name:i.displayName}),className:"Testimonials-displayImage",role:"img",style:{backgroundImage:"url("+i.displayImageUrl+")"}}))),g.a.createElement(d.a,{className:"Testimonials-username"},g.a.createElement(u.a,{to:i.profileUrl},i.displayName),g.a.createElement("span",{className:"Testimonials-userStatus"},i.userType)))}renderQuotedPanes(){return this.rotate(this.props.defaultSelectedIndex,this.props.testimonials).map(((t,i)=>g.a.createElement("div",{className:r()("Testimonials-quoted",{"Testimonials-orange":t.backgroundColor===s.ORANGE,"Testimonials-white":t.backgroundColor===s.WHITE}),key:"Testimonials-quoted-"+i},g.a.createElement(o.a,{isFullBleed:!0,maxWidth:"l"},g.a.createElement("div",{className:"Testimonials"},g.a.createElement(d.a,null,g.a.createElement(h.a,{deprecatedStyle:!0,size:3},t.quote),g.a.createElement("p",{className:"Testimonial-userDetail"},"- ",t.displayName,","," ",e("homepage_new.testimonials.age",{userAge:t.userAge}))))))))}renderQuoteVersion(){return g.a.createElement(n.a,{arrowVariant:"white",autoScroll:!0,isContinuousScroll:!0,renderArrows:!1,shouldShowCounter:!1},this.renderQuotedPanes())}render(){var{testimonials:e,showQuotes:t}=this.props;return t?this.renderQuoteVersion():g.a.createElement("div",{className:"Testimonials"},g.a.createElement(d.a,null,g.a.createElement("span",{className:"Testimonials-header"},g.a.createElement(l.a,{id:"homepage.en_gb.testimonials.header"}))),g.a.createElement(d.a,{className:"Testimonials-container"},g.a.createElement(d.a,{className:"Testimonials-quote"},g.a.createElement("span",null,this.getSelectedQuote())),g.a.createElement(d.a,{className:"Testimonials-users"},e.map(((e,t)=>this.renderTestimonialUser(t,e))))))}rotate(e,t){for(var i=[],s=0;s<e;s++){var a=t.shift();a&&i.push(a)}return t.concat(i)}}}).call(this,i("nrsj").default)},tiQX:function(e,t,i){"use strict";function s(e,t,i){void 0===i&&(i=!1);var s,a=[],r=e<t;s=i?r?t+1:t-1:t;for(var n=e;r?n<s:n>s;r?n++:n--)a.push(n);return a}i.d(t,"a",(function(){return s}))},ueNg:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));i("4mDm"),i("zKZe"),i("3bBZ");var s=i("TSYQ"),a=i.n(s),r=i("FFEN"),n=i("xqF0"),l=i("sEfC"),o=i.n(l),d=i("q1tI"),h=i.n(d),u=i("xYJe"),c=i.n(u),m=i("tiQX"),p={white:{right:"arrow-right",left:"arrow"},borderless:{right:"caret-right",left:"caret-left"}};class g extends h.a.Component{constructor(){super(...arguments),this.state={height:0,index:0,isSliding:!1,nextSlideDirection:"rtl",previousIndex:void 0,validChildren:[]},this.handleArrowClick=e=>{this.swipe(e)},this.handleDotClick=e=>{this.slideTo(e)},this.renderDot=e=>{var t=a()("SlidingCarousel-dot",{"is-active":this.state.index===e,["SlidingCarousel-dot--"+this.props.dotsVariant]:this.props.dotsVariant});return h.a.createElement("li",{className:t,key:e,onClick:()=>this.handleDotClick(e)})},this.renderDots=e=>h.a.createElement("ul",{className:"SlidingCarousel-dotsContainer"},Object(m.a)(0,e).map(this.renderDot)),this.renderHeading=(e,t)=>{var{index:i,previousIndex:s}=this.state,n=i===t&&s!==t,l=i!==t&&s===t,o=a()("SlidingCarouselHeader-title",{initial:void 0===s,"is-current":i===t,"is-entering":n,"is-leaving":l});return h.a.createElement("div",{className:o,key:t,ref:e=>{this.paneRefs[t]=e}},h.a.createElement(r.a,{deprecatedStyle:!1,size:5},e))},this.renderArrows=()=>{var e=void 0===this.props.arrowVariant?"wedge-left":p[this.props.arrowVariant].left,t=void 0===this.props.arrowVariant?"wedge-right":p[this.props.arrowVariant].right,i=this.state.index+1,s=this.state.validChildren.length,r=a()("SlidingCarousel-arrowLeft",{"SlidingCarousel-arrowDisabled":!this.shouldShowPreviousArrow()}),l=a()("SlidingCarousel-arrowRight",{"SlidingCarousel-arrowDisabled":!this.shouldShowNextArrow()}),o=a()("SlidingCarousel-arrowsContainer",{"SlidingCarousel-arrowsContainer--white":"white"===this.props.arrowVariant});return h.a.createElement("div",{className:o},h.a.createElement("div",{className:r},h.a.createElement(n.a,{disabled:!this.shouldShowPreviousArrow(),icon:e,onClick:()=>this.handleArrowClick("ltr"),size:"borderless"===this.props.arrowVariant?"small":"default",variant:this.props.arrowVariant})),this.props.shouldShowCounter?h.a.createElement("div",{className:"SlidingCarousel-counter"},i,"/",s):null,h.a.createElement("div",{className:l},h.a.createElement(n.a,{disabled:!this.shouldShowNextArrow(),icon:t,onClick:()=>this.handleArrowClick("rtl"),size:"borderless"===this.props.arrowVariant?"small":"default",variant:this.props.arrowVariant})))},this.renderPane=(e,t)=>{var{nextSlideDirection:i,index:s,previousIndex:r,height:n}=this.state,l=s===t&&r!==t,o=s!==t&&r===t,d=a()("SlidingCarousel-pane",{"is-current":s===t,"is-leaving-to-right":o&&"ltr"===i,"is-leaving-to-left":o&&"rtl"===i,"is-entering-from-right":l&&"rtl"===i,"is-entering-from-left":l&&"ltr"===i,"is-full-height":!this.props.shouldFlexBySingularPaneHeight&&n>0});return h.a.createElement("div",{className:d,key:t,ref:e=>{this.paneRefs[t]=e}},e)},this.setHeight=()=>{var{shouldFlexBySingularPaneHeight:e}=this.props;e?this.setSinglePaneHeight():this.setUniversalPaneHeight()},this.setUniversalPaneHeight=()=>{var e=Math.max.apply(Math,[0].concat(this.paneRefs.map((e=>e?e.getBoundingClientRect().height:0))));this.setState({height:e})},this.setSinglePaneHeight=()=>{var e=this.paneRefs[this.state.index],t=e?e.getBoundingClientRect().height:0;this.setState({height:t})},this.paneRefs=[],this.debouncedSetHeight=o()(this.setHeight,300),this.slideTo=(e,t)=>{if(e!==this.state.index&&!this.state.isSliding){var{shouldFlexBySingularPaneHeight:i}=this.props;this.setState((i=>{var s=i.index;return Object.assign({},i,{heading:this.props.paneTitles?this.props.paneTitles[e]:"",index:e,isSliding:!0,nextSlideDirection:t||(e>s?"rtl":"ltr"),previousIndex:s})}),(()=>{i&&window.setTimeout(this.setSinglePaneHeight,500),this.props.onGestureAction&&this.props.onGestureAction(e)}))}},this.slideForward=()=>{var{index:e,validChildren:t}=this.state,i=(e+1)%t.length;this.slideTo(i,"rtl")},this.slideBackward=()=>{var{index:e,validChildren:t}=this.state,i=t.length,s=0!==e?e-1:i-1;this.slideTo(s,"ltr")},this.swipe=e=>{"ltr"===e&&this.slideBackward(),"rtl"===e&&this.slideForward(),this.stopCountdown(),this.startCountdown()},this.enableSlide=()=>{this.state.isSliding&&this.setState({isSliding:!1})},this.startCountdown=()=>{!this._timeout&&this.props.autoScroll&&(this._timeout=window.setInterval(this.slideForward,5e3))},this.stopCountdown=()=>{this._timeout&&(clearInterval(this._timeout),this._timeout=0)}}componentDidMount(){this.startCountdown(),this.setHeight(),window.addEventListener("resize",this.debouncedSetHeight)}componentWillUnmount(){this.stopCountdown(),window.removeEventListener("resize",this.debouncedSetHeight)}static getDerivedStateFromProps(e){var{children:t}=e;return{validChildren:h.a.Children.toArray(t).filter(Boolean)}}render(){var{previousIndex:e,validChildren:t,height:i}=this.state,{renderDots:s,renderArrows:r,arrowLocation:n,paneTitles:l}=this.props,o=t.length,d=i?{height:i+"px"}:{},u=a()("SlidingCarousel-panes",{"SlidingCarousel-panes--initial":void 0===e});return h.a.createElement(c.a,{className:"SlidingCarousel",onAnimationEnd:this.enableSlide,onBlur:this.startCountdown,onFocus:this.stopCountdown,onMouseEnter:this.props.onMouseEnter||this.stopCountdown,onMouseLeave:this.props.onMouseLeave||this.startCountdown,onSwipedLeft:()=>this.swipe("rtl"),onSwipedRight:()=>this.swipe("ltr")},r&&"top"===n?h.a.createElement("div",{className:"SlidingCarousel-headingContainer"},l?l.map(this.renderHeading):null,o>1?this.renderArrows():null):null,h.a.createElement("div",{className:u,style:d},t.map(this.renderPane)),s&&o>1?this.renderDots(o):null,r&&o>1&&"bottom"===n?this.renderArrows():null)}shouldShowPreviousArrow(){return this.state.index>0||!0===this.props.isContinuousScroll}shouldShowNextArrow(){return this.state.index<this.state.validChildren.length-1||!0===this.props.isContinuousScroll}}g.defaultProps={arrowLocation:"bottom",autoScroll:!1,isContinuousScroll:!0,renderArrows:!1,renderDots:!1,shouldShowCounter:!1}}}]);